<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TAWHID FC PRO</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{margin:0;font-family:Arial;background:#081018;color:white}
.hidden{display:none}
button{background:gold;border:none;padding:10px 20px;border-radius:10px;font-weight:bold;cursor:pointer;margin:5px}
input{padding:10px;border-radius:8px;border:none;margin:5px}
.card{background:#111;padding:15px;border-radius:15px;margin:10px;box-shadow:0 0 10px black}
.flex{display:flex;flex-wrap:wrap}
.player{background:#161616;padding:10px;border-radius:12px;margin:10px;cursor:pointer;width:160px;text-align:center}
table{width:100%;border-collapse:collapse}
td,th{border:1px solid white;padding:8px;text-align:center}
th{background:gold;color:black}
h1,h2{text-align:center;color:gold}
</style>
</head>

<body>

<div id="login" class="card">
<h1>TAWHID FC</h1>
<input id="u" placeholder="Username">
<input id="p" type="password">
<br>
<button onclick="login()">Login</button>
<p id="err"></p>
</div>

<div id="app" class="hidden">

<h1>TAWHID FC Dashboard</h1>

<input id="search" placeholder="Search player..." oninput="renderPlayers()">

<div id="players" class="flex"></div>

<div class="card">
<h2>Ballon d'Or Ranking</h2>
<div id="ranking"></div>
</div>

<div class="card">
<h2>MVP (Auto)</h2>
<h1 id="mvp"></h1>
</div>

<div id="profile" class="card hidden"></div>

</div>

<script>

// LOGIN
const users={TAWHID:["78","25","28","7","2","11"]}

function login(){
 if(users[u.value]?.includes(p.value)){
  loginDiv.style.display="none"
  app.classList.remove("hidden")
  renderPlayers()
  rank()
  mvpCalc()
 }else err.textContent="Wrong login"
}

// AUTO MONTHS Oct 2025 â†’ Sep 2026
const months=[]
let start=new Date(2025,9,1)
let end=new Date(2026,8,1)

while(start<=end){
 months.push(start.toLocaleString("en",{month:"short",year:"numeric"}))
 start.setMonth(start.getMonth()+1)
}

// PLAYERS BASE
const players=[
{name:"Almousa3m",stats:{}},
{name:"Yo0ousef25",stats:{}},
{name:"H2ssain_28",stats:{}},
{name:"H7modi_77",stats:{}},
{name:"Basabeso2",stats:{}},
{name:"M-_-_-_-11_11",stats:{}}
]

// INIT EMPTY MONTHS
players.forEach(p=>{
 months.forEach(m=>{
  p.stats[m]={g:0,a:0,m:0,r:0}
 })
})

// SAMPLE DATA (Oct + Nov only)
players[0].stats[months[0]]={g:65,a:61,m:18,r:1}
players[0].stats[months[1]]={g:67,a:72,m:15,r:0}

players[1].stats[months[0]]={g:23,a:5,m:0,r:0}
players[1].stats[months[1]]={g:21,a:8,m:3,r:1}

players[2].stats[months[0]]={g:36,a:15,m:1,r:0}
players[2].stats[months[1]]={g:59,a:48,m:8,r:2}

players[3].stats[months[0]]={g:14,a:36,m:2,r:5}
players[3].stats[months[1]]={g:52,a:54,m:8,r:7}

players[4].stats[months[0]]={g:36,a:17,m:7,r:1}
players[4].stats[months[1]]={g:54,a:22,m:9,r:0}

players[5].stats[months[0]]={g:38,a:43,m:9,r:1}
players[5].stats[months[1]]={g:48,a:58,m:10,r:0}

// POWER INDEX
function power(s){
 return s.g*2 + s.a*1.5 + s.m*3 - s.r*2
}

// TOTAL
function total(p){
 let t=0
 months.forEach(m=>t+=power(p.stats[m]))
 return t.toFixed(1)
}

// RENDER PLAYERS
function renderPlayers(){
 playersDiv.innerHTML=""
 players.filter(p=>p.name.toLowerCase().includes(search.value.toLowerCase()))
 .forEach((p,i)=>{
  playersDiv.innerHTML+=`
  <div class="player" onclick="profile(${i})">
  <h3>${p.name}</h3>
  Power: ${total(p)}
  </div>`
 })
}

// PROFILE
function profile(i){
 profileDiv.classList.remove("hidden")
 let p=players[i]
 let h=`<h2>${p.name}</h2><table><tr><th>Month</th><th>Goals</th><th>Assists</th><th>MOTM</th><th>Red</th><th>Power</th></tr>`
 months.forEach(m=>{
  let s=p.stats[m]
  h+=`<tr><td>${m}</td><td>${s.g}</td><td>${s.a}</td><td>${s.m}</td><td>${s.r}</td><td>${power(s).toFixed(1)}</td></tr>`
 })
 h+=`</table><canvas id="c"></canvas>`
 profileDiv.innerHTML=h

 new Chart(c,{
 type:"bar",
 data:{labels:["Goals","Assists","MOTM"],
 datasets:[{data:[
 months.reduce((x,m)=>x+p.stats[m].g,0),
 months.reduce((x,m)=>x+p.stats[m].a,0),
 months.reduce((x,m)=>x+p.stats[m].m,0)
 ]}]}
 })
}

// RANKING
function rank(){
 players.sort((a,b)=>total(b)-total(a))
 let h="<table><tr><th>#</th><th>Player</th><th>Total Power</th></tr>"
 players.forEach((p,i)=>h+=`<tr><td>${i+1}</td><td>${p.name}</td><td>${total(p)}</td></tr>`)
 ranking.innerHTML=h+"</table>"
}

// MVP
function mvpCalc(){
 mvp.textContent=players[0].name
}

const loginDiv=document.getElementById("login")
const app=document.getElementById("app")
const playersDiv=document.getElementById("players")
const profileDiv=document.getElementById("profile")

</script>

</body>
</html>

